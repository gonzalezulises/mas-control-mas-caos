digraph FasesSemaforo {
    // Layout vertical
    layout=dot;
    rankdir=TB;
    bgcolor="#0a1628";
    pad=0.6;
    nodesep=0.4;
    ranksep=0.8;

    // Estilo global - paleta portada
    node [
        fontname="Helvetica Neue",
        fontsize=11,
        fontcolor="#ffffff",
        penwidth=3
    ];

    edge [
        penwidth=3,
        color="#3d7ab7",
        fontcolor="#8899aa",
        arrowsize=0.9
    ];

    // Titulo
    titulo [label="FASES DEL RETRASO SISTEMICO",
            shape=plaintext,
            fontsize=14,
            fontcolor="#ffffff",
            fontname="Helvetica Neue Bold"];

    // Semaforo AZUL - Fase Temprana (era verde)
    semaforo1 [label="",
               shape=circle,
               width=1.2,
               height=1.2,
               fillcolor="#3d7ab7",
               style=filled,
               color="#2d5a87"];

    fase1 [label="FASE TEMPRANA\n\nDetener seria BARATO\n\n• Informacion ambigua\n• Argumentos en ambas direcciones\n• Quien detiene parece\n  prematuro o pesimista",
           shape=box,
           style="rounded,filled",
           fillcolor="#1e3a5f",
           color="#3d7ab7",
           width=4,
           height=1.8];

    // Semaforo GRIS - Fase Intermedia (era amarillo)
    semaforo2 [label="",
               shape=circle,
               width=1.2,
               height=1.2,
               fillcolor="#8899aa",
               style=filled,
               color="#6b7a8a"];

    fase2 [label="FASE INTERMEDIA\n\nInversion acumulada crea argumento:\n\"Ya invertimos tanto que parar\nseria desperdiciar todo\"\n\n(Falacia de costos hundidos)",
           shape=box,
           style="rounded,filled",
           fillcolor="#0d1f3c",
           color="#8899aa",
           width=4,
           height=1.8];

    // Semaforo ROJO - Fase Tardia
    semaforo3 [label="",
               shape=circle,
               width=1.2,
               height=1.2,
               fillcolor="#dc143c",
               style=filled,
               color="#8b0000"];

    fase3 [label="FASE TARDIA\n\nEvidencia de fracaso innegable\n\n• Deshacer años de trabajo\n• Admitir error publico\n• Enfrentar stakeholders\n\nCosto detener ≈ Costo colapso",
           shape=box,
           style="rounded,filled",
           fillcolor="#5c0000",
           color="#dc143c",
           width=4,
           height=1.8];

    // Resultado
    resultado [label="RESULTADO\n\nOrganizaciones detienen\nDEMASIADO TARDE\ncuando el daño ya\nesta materializado",
               shape=octagon,
               style="filled",
               fillcolor="#8b0000",
               color="#5c0000",
               fontcolor="white",
               fontsize=11,
               width=3,
               height=1.5];

    // Conexiones verticales
    titulo -> semaforo1 [style=invis];

    {rank=same; semaforo1; fase1}
    {rank=same; semaforo2; fase2}
    {rank=same; semaforo3; fase3}

    semaforo1 -> fase1 [arrowhead=none, style=dashed, color="#3d7ab7"];
    semaforo2 -> fase2 [arrowhead=none, style=dashed, color="#8899aa"];
    semaforo3 -> fase3 [arrowhead=none, style=dashed, color="#dc143c"];

    semaforo1 -> semaforo2 [label="  inversion\n  crece  ", fontsize=9];
    semaforo2 -> semaforo3 [label="  daño se\n  acumula  ", fontsize=9];
    semaforo3 -> resultado [label="  demasiado\n  tarde  ", fontsize=9, fontcolor="#dc143c", color="#dc143c"];
}
