digraph GoodhartLoop {
    // Layout circular
    layout=neato;
    bgcolor="#0a1628";
    pad=0.5;
    splines=curved;

    // Estilo global - paleta portada
    node [
        shape=box,
        style="rounded,filled",
        fontname="Helvetica Neue",
        fontsize=10,
        fontcolor="#ffffff",
        penwidth=2
    ];

    edge [
        penwidth=2.5,
        color="#3d7ab7",
        fontcolor="#8899aa",
        arrowsize=0.8
    ];

    // Titulo
    title [label="LEY DE GOODHART\n\"Cuando una metrica se convierte en objetivo,\ndeja de ser una buena metrica\"",
           shape=plaintext, fontsize=11, fontname="Helvetica Neue Bold", fontcolor="#ffffff", pos="0,4!"];

    // Loop principal (sentido horario)
    M [label="METRICA\nse establece como\nindicador de exito",
       fillcolor="#1e3a5f", color="#3d7ab7", width=2.3, height=0.9, pos="0,2!"];

    O [label="OBJETIVO\nla metrica determina\nrecompensas y\nconsequencias",
       fillcolor="#2d5a87", color="#3d7ab7", width=2.3, height=0.9, pos="2.5,0!"];

    OPT [label="OPTIMIZACION\nactores racionales\noptimizar PARA\nla metrica",
         fillcolor="#0d1f3c", color="#8899aa", width=2.3, height=0.9, pos="0,-2!"];

    DIV [label="DIVERGENCIA\nla metrica mejora\nmientras la realidad\nse deteriora",
         fillcolor="#8b0000", color="#dc143c", width=2.3, height=0.9, pos="-2.5,0!"];

    // Conexiones del loop
    M -> O [label=" consecuencias ", fontsize=8];
    O -> OPT [label=" respuesta racional ", fontsize=8];
    OPT -> DIV [label=" resultado agregado ", fontsize=8];
    DIV -> M [label=" metrica sigue\n mejorando ", fontsize=8, fontcolor="#dc143c", color="#dc143c", style=bold];

    // Ejemplo: Wells Fargo
    ejemplo [label="WELLS FARGO (2002-2016)\n\n\"Eight is great\": 8 productos por cliente\n→ 2 millones de cuentas fraudulentas\n→ Metricas de cross-sell mejoraban\n→ Controles existian pero median proceso,\n   no realidad",
             shape=note,
             fillcolor="#0d1f3c",
             color="#8899aa",
             fontsize=9,
             fontcolor="#8899aa",
             width=3.5,
             height=1.4,
             pos="0,-5!"];
}
